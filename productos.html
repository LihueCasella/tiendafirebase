
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Productos | E-Commerce Dinámico</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="assets/main.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body>

    <!-- Header -->
    <header>
        <div class="header">
            <div class="logo">
                <a href="index.html" style="text-decoration: none; color: inherit;"><h1>MegaStore</h1></a>
            </div>
            <div class="search-bar">
                <input type="text" placeholder="Buscar productos, marcas...">
                <button><i class="fas fa-search"></i></button>
            </div>
            <nav class="user-nav">
                <p id="auth-status" style="color: white; margin-right: 15px;">Conectando...</p>
                <a href="#" class="nav-item"><i class="fas fa-user"></i> Mi Cuenta</a>
                <a href="carrito.html" class="nav-item cart-icon"><i class="fas fa-shopping-cart"></i> Carrito</a>
            </nav>
        </div>
        <nav class="main-menu">
            <a href="productos.html?cat=all" class="menu-item" data-category="all">Todos</a>
            <a href="productos.html?cat=tecnologia" class="menu-item" data-category="tecnologia">Tecnología</a>
            <a href="productos.html?cat=indumentaria" class="menu-item" data-category="indumentaria">Indumentaria</a>
            <a href="productos.html?cat=hogar" class="menu-item" data-category="hogar">Hogar</a>
            <a href="#" class="menu-item" data-category="otros">Otros</a>
        </nav>
    </header>

    <!-- Contenido Principal -->
    <div class="container">
        <h2 id="listing-title" class="section-title">Cargando Título...</h2>
        <div class="product-page-layout">
            <aside class="sidebar-filters">
                <h3 class="filter-title"><i class="fas fa-filter"></i> Filtrar Productos</h3>
                <div class="filter-group">
                    <h4><i class="fas fa-dollar-sign"></i> Rango de Precio</h4>
                    <div class="price-range">
                        <input type="number" id="min-price" placeholder="Mín" value="0">
                        <span>-</span>
                        <input type="number" id="max-price" placeholder="Máx">
                    </div>
                    <button class="btn btn-small" id="apply-price-filter">Aplicar</button>
                </div>
                <div class="filter-group">
                    <h4><i class="fas fa-tag"></i> Marca</h4>
                    <ul class="filter-list" id="brand-filters">
                        <li><p class="placeholder-text">Cargando marcas...</p></li>
                    </ul>
                    <button class="btn-clear-filter" data-filter-type="marca">Limpiar Marcas</button>
                </div>
                <div class="filter-group" id="specific-filter-group" style="display: none;">
                    <h4><i class="fas fa-list-alt"></i> Específico</h4>
                    <ul class="filter-list">
                        <li><p class="placeholder-text">Cargando filtros...</p></li>
                    </ul>
                    <button class="btn-clear-filter" data-filter-type="specific">Limpiar Filtros</button>
                </div>
                <p id="current-category-title" class="placeholder-text" style="text-align: center; margin-top: 20px;"></p>
            </aside>
            <section class="product-listing">
                <div class="sort-options">
                    <label for="sort-by"><i class="fas fa-sort-amount-down"></i> Ordenar por:</label>
                    <select id="sort-by">
                        <option value="default">Relevancia</option>
                        <option value="price_asc">Precio: Más bajo primero</option>
                        <option value="price_desc">Precio: Más alto primero</option>
                        <option value="name_asc">Nombre (A-Z)</option>
                    </select>
                </div>
                <div class="product-grid" id="product-listing-grid">
                    <p id="listing-loading-message">Cargando productos...</p>
                </div>
            </section>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <p>&copy; 2024 E-Commerce Dinámico. Todos los derechos reservados.</p>
            <div class="footer-links">
                <a href="#">Política de Privacidad</a> | 
                <a href="#">Términos de Servicio</a> | 
                <a href="#">Contacto</a>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <!-- 1. Cargar la configuración de Firebase -->
    <script src="js/config.js"></script>
    <!-- 2. Inicializar Firebase (este script es de tipo 'module') -->
    <script type="module" src="js/firebase-init.js"></script>
    <!-- 3. Cargar la lógica de la página de productos (espera a 'firebase-ready') -->
    <script type="module" src="js/productos.js"></script>

</body>
</html>
